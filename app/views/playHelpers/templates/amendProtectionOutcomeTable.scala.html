@*
 * Copyright 2023 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import models.AmendPrintDisplayModel

@this()

@(details: AmendPrintDisplayModel, includeProtectedAmount: Boolean = false)(implicit messages: Messages)

<table class="govuk-table">
	<caption class="govuk-visually-hidden">@messages("pla.printAmend.protectionDetails")</caption>
	<tbody class="govuk-table__body">

		<tr class="govuk-table__row">
			<th scope="row" class="govuk-table__header">@messages("pla.printAmend.fullName")</th>
			<td class="govuk-table__cell" id="yourFullName">@{details.firstName} @{details.surname}</td>
		</tr>

		<tr class="govuk-table__row">
			<th scope="row" class="govuk-table__header">@messages("pla.printAmend.nino")</th>
			<td class="govuk-table__cell" id="yourNino">@{details.nino}</td>
		</tr>

		@if(includeProtectedAmount) {
			@details.protectedAmount.map { pAmount =>
				<tr class="govuk-table__row">
					<th scope="row" class="govuk-table__header">@messages("pla.printAmend.protectedAmount")</th>
					<td class="govuk-table__cell" id="protectedAmount">@pAmount</td>
				</tr>
			}
		}

		<tr class="govuk-table__row">
			<th scope="row" class="govuk-table__header">@messages("pla.printAmend.protectionType")</th>
			<td class="govuk-table__cell" id="protectionType">@messages(s"pla.protection.types.${details.protectionType}")</td>
		</tr>

        @details.protectionReference.map { protectionReference =>
            <tr class="govuk-table__row">
                <th scope="row" class="govuk-table__header">@messages("pla.printAmend.protectionReferenceNumber")</th>
                <td class="govuk-table__cell" id="protectionRefNum">@protectionReference</td>
            </tr>
        }

        @details.fixedProtectionReference.map { fixedProtectionReference =>
            <tr class="govuk-table__row">
                <th scope="row" class="govuk-table__header">@messages("pla.printAmend.fixedProtectionReferenceNumber")</th>
                <td class="govuk-table__cell" id="fixedProtectionRefNum">@fixedProtectionReference</td>
            </tr>
        }

        @details.psaCheckReference.map { psaCheckReference =>
            <tr class="govuk-table__row">
                <th scope="row" class="govuk-table__header">@messages("pla.printAmend.pensionSchemeAdministratorReference")</th>
                <td class="govuk-table__cell" id="psaCheckRef">@psaCheckReference</td>
            </tr>
        }

		@details.certificateDate.map { cDate =>
			<tr class="govuk-table__row">
				<th scope="row" class="govuk-table__header">@messages("pla.printAmend.applicationDate")</th>
				<td class="govuk-table__cell" id="applicationDate">@{cDate}</td>
			</tr>
		}

        @details.certificateTime.map { certificateTime =>
            <tr class="govuk-table__row">
                <th scope="row" class="govuk-table__header">@messages("pla.printAmend.applicationTime")</th>
                <td class="govuk-table__cell" id="applicationTime">@{certificateTime}</td>
            </tr>
        }

        @details.status.map { status =>
            <tr class="govuk-table__row">
                <th scope="row" class="govuk-table__header">@messages("pla.printAmend.status")</th>
                <td class="govuk-table__cell" id="status">@messages(s"pla.printAmend.$status")</td>
            </tr>
        }
	</tbody>
</table>
