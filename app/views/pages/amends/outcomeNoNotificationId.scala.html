@*
 * Copyright 2023 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import play.api.i18n._

@this(
	layout: Layout,
	protectionDetailsTable: playHelpers.templates.amendProtectionOutcomeTable
)

@(model: AmendResultDisplayModelNoNotificationId)(implicit request: Request[_], messages: Messages)

@layout(
	pageTitle = messages("pla.amendsResultPage.title"),
    backLinkEnabled = false
) {

	<div class="govuk-panel govuk-panel--confirmation">
		<h1 class="govuk-panel__title">
			@messages(s"amendCode.noNotificationId.${model.protectionType}.heading")
		</h1>
		<div class="govuk-panel__body">
			<div id="amendedAllowanceText">@messages("pla.amendsResultPage.allowanceSubHeading")</div><strong id="protectedAmount">@model.protectedAmount</strong>
		</div>
	</div>

	<div class="govuk-inset-text">
		<p>@messages(s"amendCode.noNotificationId.${model.protectionType}.insetText")</p>
	</div>

	<h2 class="govuk-heading-m">@messages("pla.amendsResultPage.protectionDetails")</h2>

	@model.details.map{ details =>
		@protectionDetailsTable(details)
	}

	<p class="govuk-body">@messages("pla.amendsResultPage.printGuidancePara")</p>
	<p class="govuk-body"><a class="govuk-link" id="printPage" href="@controllers.routes.PrintController.printView" target="_blank" rel="noopener noreferrer">@messages("pla.amendsResultPage.printLink")</a></p>

	<h2 class="govuk-heading-m">@messages("pla.amendsResultPage.changeDetails")</h2>

	<p class="govuk-body">
		@messages("pla.amendsResultPage.changeDetailsParaBeforeLink")
		<a class="govuk-link" href="https://www.gov.uk/find-hmrc-contacts/pension-schemes-general-enquiries">@messages("pla.amendsResultPage.changeDetailsLink")</a>
		@messages("pla.amendsResultPage.changeDetailsParaAfterLink")
	</p>

	<p class="govuk-body" id="view-or-change-protection-details">
		@messages("pla.amendsResultPage.viewDetails.beforeLink")
		<a class="govuk-link" href="@controllers.routes.ReadProtectionsController.currentProtections">@messages("pla.amendsResultPage.viewDetails.linkText")</a>
		@messages("pla.amendsResultPage.viewDetails.afterLink")
	</p>

	<h2 class="govuk-heading-m">@messages("pla.amendsResultPage.giveFeedback")</h2>

	<p class="govuk-body" id="survey-info"><a class="govuk-link" id="submit-survey-button" href=@controllers.routes.AccountController.signOut role="button" onclick="submitExitSurvey()">
		@messages("pla.amendsResultPage.exitSurveyLinkText")</a> @messages("pla.amendsResultPage.exitSurvey")</p>

}




